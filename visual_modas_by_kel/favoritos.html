<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="design/icone_visualmodasbykel.png">
    <link href="estilos.css" rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <title>Meus Favoritos - Visual Modas By Kel</title>
</head>

<body>
    <!-- Cabeçalho -->
    <header class="header">
        <div class="header-content">
            <a href="home.html" class="logo" aria-label="Visual Modas By Kel">VISUAL MODAS BY KEL</a>
            <a href="home.html" aria-label="Logo Visual Modas By Kel">
                <img src="design/logo_visualmodasbykel.png" alt="Logo Visual Modas By Kel" />
            </a>
            <div class="header-icons">
                <form role="search" aria-label="Busca de produtos" onsubmit="return false;">
                    <input type="text" placeholder="O que você procura?" aria-label="Buscar produto" id="searchInput">
                </form>
                <a href="login.html" title="Minha Conta">
                    <img src="design/icone_usuario.png" alt="Minha Conta">
                    <span>Minha conta<br><b>Meus pedidos</b></span>
                </a>
                <a href="favoritos.html" title="Favoritos" id="abrir_favoritos">
                    <img src="design/icone_favoritos.png" alt="Favoritos">
                    <span id="favoritosCount" style="display:none;">0</span>
                </a>
                <a href="sacola.html" title="Sacola" id="abrir_sacola">
                    <img src="design/icone_sacola.png" alt="Sacola">
                    <span id="sacolaCount" style="display:none;">0</span>
                </a>
                <button class="menu-toggle" id="menuToggle" aria-label="Abrir/fechar menu" type="button">
                    <span></span><span></span><span></span>
                </button>
            </div>
        </div>
        <nav class="header-filters" id="headerFilters" aria-label="Navegação principal">
            <ul>
                <li id="categoriesMenuTrigger">
                    <a href="#" class="active" data-category="all">CATEGORIAS</a>
                </li>
                <li><a href="#" data-category="new">NOVIDADES</a></li>
                <li><a href="#" data-category="collection">COLEÇÃO</a></li>
                <li><a href="#" data-category="trends">TENDÊNCIAS</a></li>
                <li><a href="#" data-category="lookbook">LOOKBOOK</a></li>
                <li><a href="#" data-category="promo">PROMOÇÕES</a></li>
                <li><a href="#" data-category="inspiration">INSPIRAÇÃO</a></li>
                <li><a href="#" data-category="outlet">OUTLET</a></li>
                <li><a href="#" data-category="exclusive">EXCLUSIVOS</a></li>
            </ul>
        </nav>
    </header>

    <!-- Conteúdo Principal -->
    <main class="favoritos-page">
        <div class="favoritos-container">
            <div class="favoritos-header">
                <h1 class="favoritos-title">Meus Favoritos</h1>
                <p class="favoritos-subtitle" id="favoritosTotal">0 itens salvos</p>
            </div>

            <!-- Estado Vazio -->
            <div class="favoritos-empty" id="favoritosEmpty">
                <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="#ccc" stroke-width="1.5">
                    <path
                        d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41 0.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" />
                </svg>
                <h2>Você ainda não tem favoritos</h2>
                <p>Adicione produtos aos seus favoritos clicando no ícone de coração</p>
                <a href="home.html" class="btn-continuar-comprando">Continuar Comprando</a>
            </div>

            <!-- Grid de Produtos Favoritos -->
            <div class="favoritos-grid" id="favoritosGrid">
                <!-- Produtos serão carregados aqui via JavaScript -->
            </div>
        </div>
    </main>

    <!-- Rodapé -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Institucional</h3>
                    <ul>
                        <li><a href="#">Sobre Nós</a></li>
                        <li><a href="#">Nossa História</a></li>
                        <li><a href="#">Trabalhe Conosco</a></li>
                        <li><a href="#">Lojas Físicas</a></li>
                        <li><a href="#">Política de Privacidade</a></li>
                        <li><a href="#">Termos de Uso</a></li>
                    </ul>
                </div>

                <div class="footer-section">
                    <h3>Contato</h3>
                    <p><strong>Telefone:</strong> (48) 9 9957-5303</p>
                    <p><strong>E-mail:</strong> contato@visualmodasbykel.com.br</p>
                    <p><strong>Horário de Atendimento:</strong><br>
                        Segunda a Sexta: 08h30 às 18h<br>
                        Sábado: 08h30 às 17h</p>
                    <div class="footer-social">
                        <a href="#" title="Instagram" aria-label="Instagram">
                            <img src="design/icone_instagram.png" alt="Instagram">
                        </a>
                        <a href="#" title="Facebook" aria-label="Facebook">
                            <img src="design/icone_facebook.png" alt="Facebook">
                        </a>
                        <a href="#" title="TikTok" aria-label="TikTok">
                            <img src="design/icone_tiktok.png" alt="TikTok">
                        </a>
                    </div>
                </div>

                <div class="footer-section">
                    <h3>Formas de Pagamento</h3>
                    <div class="footer-payment">
                        <img src="design/icone_pix.png" alt="Pix" title="Pix">
                    </div>
                </div>
            </div>

            <div class="footer-bottom">
                <p>&copy; 2025 Visual Modas By Kel - Todos os direitos reservados</p>
                <p>CNPJ: 00.000.000/0001-00 | Criciúma - SC</p>
                <p>Desenvolvido por <a href="#">Visual Modas By Kel</a></p>
            </div>
        </div>
    </footer>

    <script>
        // DADOS DOS PRODUTOS (mesmos da home)
        const allProducts = [
            {
                id: 1,
                name: "Vestido Midi Floral",
                price: 899.90,
                installments: 7,
                image1: "design/ex-roupa1.png",
                image2: "design/ex-roupa1b.png",
                sizes: ["PP", "P", "M", "G", "GG"]
            },
            {
                id: 2,
                name: "Blusa Cropped Básica",
                price: 449.90,
                installments: 4,
                image1: "design/ex-roupa2.png",
                image2: "design/ex-roupa2b.png",
                sizes: ["PP", "P", "M", "G", "GG"]
            },
            {
                id: 3,
                name: "Calça Wide Leg Alfaiataria",
                price: 679.90,
                installments: 5,
                image1: "design/ex-roupa3.png",
                image2: "design/ex-roupa3b.png",
                sizes: ["PP", "P", "M", "G", "GG"]
            },
            {
                id: 4,
                name: "Saia Midi Plissada",
                price: 559.90,
                installments: 5,
                image1: "design/ex-roupa4.png",
                image2: "design/ex-roupa4b.png",
                sizes: ["PP", "P", "M", "G", "GG"]
            },
            {
                id: 5,
                name: "Shorts Cintura Alta",
                price: 399.90,
                installments: 4,
                image1: "design/ex-roupa5.png",
                image2: "design/ex-roupa5b.png",
                sizes: ["PP", "P", "M", "G", "GG"]
            },
            {
                id: 6,
                name: "Jaqueta Jeans Oversized",
                price: 799.90,
                installments: 6,
                image1: "design/ex-roupa6.png",
                image2: "design/ex-roupa6b.png",
                sizes: ["PP", "P", "M", "G", "GG"]
            },
            {
                id: 7,
                name: "Macacão Longo Elegante",
                price: 989.90,
                installments: 8,
                image1: "design/ex-roupa7.png",
                image2: "design/ex-roupa7b.png",
                sizes: ["PP", "P", "M", "G", "GG"]
            },
            {
                id: 8,
                name: "Blazer Alfaiataria Premium",
                price: 849.90,
                installments: 7,
                image1: "design/ex-roupa8.png",
                image2: "design/ex-roupa8b.png",
                sizes: ["PP", "P", "M", "G", "GG"]
            },
            {
                id: 9,
                name: "Body Canelado Básico",
                price: 329.90,
                installments: 3,
                image1: "design/ex-roupa9.png",
                image2: "design/ex-roupa9b.png",
                sizes: ["PP", "P", "M", "G", "GG"]
            },
            {
                id: 10,
                name: "Regata Ribana Alongada",
                price: 279.90,
                installments: 3,
                image1: "design/ex-roupa10.png",
                image2: "design/ex-roupa10b.png",
                sizes: ["PP", "P", "M", "G", "GG"]
            },
            {
                id: 11,
                name: "Vestido Longo Festa",
                price: 1199.90,
                installments: 10,
                image1: "design/ex-roupa11.png",
                image2: "design/ex-roupa11b.png",
                sizes: ["PP", "P", "M", "G", "GG"]
            },
            {
                id: 12,
                name: "Calça Cargo Moderna",
                price: 629.90,
                installments: 5,
                image1: "design/ex-roupa12.png",
                image2: "design/ex-roupa12b.png",
                sizes: ["PP", "P", "M", "G", "GG"]
            }
        ];

        // Gerenciamento de Favoritos
        let favorites = JSON.parse(localStorage.getItem('favorites')) || [];
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        let selectedSizes = {};

        function loadFavorites() {
            const grid = document.getElementById('favoritosGrid');
            const empty = document.getElementById('favoritosEmpty');
            const total = document.getElementById('favoritosTotal');

            if (favorites.length === 0) {
                empty.style.display = 'flex';
                grid.style.display = 'none';
                total.textContent = '0 itens salvos';
            } else {
                empty.style.display = 'none';
                grid.style.display = 'grid';
                total.textContent = `${favorites.length} ${favorites.length === 1 ? 'item salvo' : 'itens salvos'}`;

                const favoriteProducts = allProducts.filter(p => favorites.includes(p.id));
                grid.innerHTML = favoriteProducts.map(product => createFavoriteCard(product)).join('');
            }

            updateFavoritesCount();
            updateCartCount();
        }

        function createFavoriteCard(product) {
            const installmentValue = (product.price / product.installments).toFixed(2);
            const tamanhoFixo = product.sizes[2]; // Tamanho padrão "M"

            return `
        <div class="produto-card" data-product-id="${product.id}">
            <button class="produto-favorito favorito-active" title="Remover dos favoritos" onclick="toggleFavorite(${product.id})">
                <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
                    <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41 0.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"
                        stroke="#370400" stroke-width="1.5" fill="#370400"/>
                </svg>
            </button>
            
            <button class="produto-sacola-topo" 
                    title="Adicionar à sacola" 
                    onclick="addToCart(${product.id}, '${tamanhoFixo}')">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#370400" stroke-width="1.5">
                    <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"/>
                    <line x1="3" y1="6" x2="21" y2="6"/>
                </svg>
            </button>
            
            <div class="produto-img-container">
                <img src="${product.image1}" alt="${product.name}" class="produto-img img-primaria">
                <img src="${product.image2}" alt="${product.name} - Verso" class="produto-img img-secundaria">
            </div>
            <div class="produto-info">
                <span class="produto-nome">${product.name}</span>
                <span class="produto-preco">R$ ${product.price.toFixed(2).replace('.', ',')}</span>
                <span class="produto-parcela">Até ${product.installments}x de R$ ${installmentValue.replace('.', ',')}</span>
                <span style="font-size: 12px; color: #666; margin-top: 6px; display: block;">
                    Tamanho: ${tamanhoFixo}
                </span>
                <button class="produto-btn-comprar" onclick="addToCart(${product.id}, '${tamanhoFixo}')">
                    Comprar
                </button>
            </div>
        </div>
    `;
        }

        function toggleFavorite(productId) {
            const index = favorites.indexOf(productId);
            if (index > -1) {
                favorites.splice(index, 1);
                showNotification('Produto removido dos favoritos');
            } else {
                favorites.push(productId);
                showNotification('Produto adicionado aos favoritos');
            }
            localStorage.setItem('favorites', JSON.stringify(favorites));
            loadFavorites();
        }

        function updateFavoritesCount() {
            const count = document.getElementById('favoritosCount');
            if (favorites.length > 0) {
                count.textContent = favorites.length;
                count.style.display = 'inline';
            } else {
                count.style.display = 'none';
            }
        }

        function addToCart(productId, size) {
            const product = allProducts.find(p => p.id === productId);
            if (!product) return;

            const existingItem = cart.find(item => item.id === productId && item.size === size);
            if (existingItem) {
                existingItem.quantity++;
            } else {
                cart.push({
                    id: productId,
                    name: product.name,
                    price: product.price,
                    size: size,
                    quantity: 1,
                    image: product.image1
                });
            }
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();
            showNotification('Produto adicionado à sacola!');
        }

        function updateCartCount() {
            const count = document.getElementById('sacolaCount');
            const total = cart.reduce((sum, item) => sum + item.quantity, 0);
            if (total > 0) {
                count.textContent = total;
                count.style.display = 'inline';
            } else {
                count.style.display = 'none';
            }
        }

        function showNotification(message) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 80px;
                right: 20px;
                background: #370400;
                color: white;
                padding: 15px 25px;
                border-radius: 4px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                z-index: 10000;
                animation: slideIn 0.3s ease-out;
            `;
            notification.textContent = message;
            document.body.appendChild(notification);

            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease-out';
                setTimeout(() => notification.remove(), 300);
            }, 2000);
        }

        document.addEventListener('DOMContentLoaded', () => {
            loadFavorites();
        });
    </script>
</body>

</html>